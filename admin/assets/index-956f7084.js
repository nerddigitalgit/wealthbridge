import{r as a,R as O,j as y,a as Oe,b as W,F as je,A as Se,X as Ee,c as Pe,s as xe,p as Ce}from"./index-27f3dbab.js";function ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Re(e){if(Array.isArray(e))return e}function Le(e,t,r){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,p=[],f=!0,m=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(f=(n=o.call(r)).done)&&(p.push(n.value),p.length!==t);f=!0);}catch(S){m=!0,i=S}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ue(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t){if(e==null)return{};var r,n,i=$e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Te(e,t){return Re(e)||Ne(e,t)||ze(e,t)||Ie()}function Ve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ae(e){var t=Ve(e,"string");return typeof t=="symbol"?t:t+""}function ze(e,t){if(e){if(typeof e=="string")return ce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?se(Object(r),!0).forEach(function(n){Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function q(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,p=new Array(l),f=0;f<l;f++)p[f]=arguments[f];return t.apply(r,[].concat(i,p))}}}function Q(e){return{}.toString.call(e).includes("Object")}function He(e){return!Object.keys(e).length}function B(e){return typeof e=="function"}function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qe(e,t){return Q(t)||L("changeType"),Object.keys(t).some(function(r){return!Ue(e,r)})&&L("changeField"),t}function We(e){B(e)||L("selectorType")}function Xe(e){B(e)||Q(e)||L("handlerType"),Q(e)&&Object.values(e).some(function(t){return!B(t)})&&L("handlersType")}function Be(e){e||L("initialIsRequired"),Q(e)||L("initialType"),He(e)&&L("initialContent")}function _e(e,t){throw new Error(e[t]||e.default)}var Je={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},L=q(_e)(Je),G={changes:qe,selector:We,handler:Xe,initial:Be};function Ke(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};G.initial(e),G.handler(t);var r={current:e},n=q(Qe)(r,t),i=q(Ye)(r),o=q(G.changes)(e),l=q(Ge)(r);function p(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(S){return S};return G.selector(m),m(r.current)}function f(m){ke(n,i,o,l)(m)}return[p,f]}function Ge(e,t){return B(t)?t(e.current):t}function Ye(e,t){return e.current=de(de({},e.current),t),t}function Qe(e,t,r){return B(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var Ze={create:Ke},et={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function tt(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,p=new Array(l),f=0;f<l;f++)p[f]=arguments[f];return t.apply(r,[].concat(i,p))}}}function rt(e){return{}.toString.call(e).includes("Object")}function nt(e){return e||fe("configIsRequired"),rt(e)||fe("configType"),e.urls?(it(),{paths:{vs:e.urls.monacoBase}}):e}function it(){console.warn(pe.deprecation)}function ot(e,t){throw new Error(e[t]||e.default)}var pe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},fe=tt(ot)(pe),at={config:nt},ct=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,l){return l(o)},i)}};function he(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],he(e[r],t[r]))}),le(le({},e),t)}var ut={type:"cancelation",msg:"operation is manually canceled"};function ne(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(ut):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var lt=["monaco"],st=Ze.create({config:et,isInitialized:!1,resolve:null,reject:null,monaco:null}),me=Te(st,2),_=me[0],ee=me[1];function dt(e){var t=at.config(e),r=t.monaco,n=De(t,lt);ee(function(i){return{config:he(i.config,n),monaco:r}})}function ft(){var e=_(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(ee({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ne(ie);if(window.monaco&&window.monaco.editor)return ve(window.monaco),e.resolve(window.monaco),ne(ie);ct(gt,ht)(mt)}return ne(ie)}function gt(e){return document.body.appendChild(e)}function pt(e){var t=document.createElement("script");return e&&(t.src=e),t}function ht(e){var t=_(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=pt("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function mt(){var e=_(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;ve(n),e.resolve(n)},function(r){e.reject(r)})}function ve(e){_().monaco||ee({monaco:e})}function vt(){return _(function(e){var t=e.monaco;return t})}var ie=new Promise(function(e,t){return ee({resolve:e,reject:t})}),Z={config:dt,init:ft,__getMonacoInstance:vt},bt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},oe=bt,yt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},wt=yt;function Mt({children:e}){return O.createElement("div",{style:wt.container},e)}var Ot=Mt,jt=Ot;function St({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:l}){return O.createElement("section",{style:{...oe.wrapper,width:e,height:t},...l},!r&&O.createElement(jt,null,n),O.createElement("div",{ref:i,style:{...oe.fullWidth,...!r&&oe.hide},className:o}))}var Et=St,be=a.memo(Et);function Pt(e){a.useEffect(e,[])}var ae=Pt;function xt(e,t,r=!0){let n=a.useRef(!0);a.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var x=xt;function X(){}function T(e,t,r,n){return Ct(e,n)||Rt(e,t,r,n)}function Ct(e,t){return e.editor.getModel(ye(e,t))}function Rt(e,t,r,n){return e.editor.createModel(t,r,n?ye(e,n):void 0)}function ye(e,t){return e.Uri.parse(t)}function Lt({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:f=!1,theme:m="light",loading:S="Loading...",options:E={},height:V="100%",width:A="100%",className:h,wrapperProps:C={},beforeMount:te=X,onMount:re=X}){let[j,z]=a.useState(!1),[N,b]=a.useState(!0),w=a.useRef(null),v=a.useRef(null),F=a.useRef(null),M=a.useRef(re),s=a.useRef(te),I=a.useRef(!1);ae(()=>{let c=Z.init();return c.then(d=>(v.current=d)&&b(!1)).catch(d=>(d==null?void 0:d.type)!=="cancelation"&&console.error("Monaco initialization: error:",d)),()=>w.current?k():c.cancel()}),x(()=>{if(w.current&&v.current){let c=w.current.getOriginalEditor(),d=T(v.current,e||"",n||r||"text",o||"");d!==c.getModel()&&c.setModel(d)}},[o],j),x(()=>{if(w.current&&v.current){let c=w.current.getModifiedEditor(),d=T(v.current,t||"",i||r||"text",l||"");d!==c.getModel()&&c.setModel(d)}},[l],j),x(()=>{let c=w.current.getModifiedEditor();c.getOption(v.current.editor.EditorOption.readOnly)?c.setValue(t||""):t!==c.getValue()&&(c.executeEdits("",[{range:c.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),c.pushUndoStop())},[t],j),x(()=>{var c,d;(d=(c=w.current)==null?void 0:c.getModel())==null||d.original.setValue(e||"")},[e],j),x(()=>{let{original:c,modified:d}=w.current.getModel();v.current.editor.setModelLanguage(c,n||r||"text"),v.current.editor.setModelLanguage(d,i||r||"text")},[r,n,i],j),x(()=>{var c;(c=v.current)==null||c.editor.setTheme(m)},[m],j),x(()=>{var c;(c=w.current)==null||c.updateOptions(E)},[E],j);let J=a.useCallback(()=>{var R;if(!v.current)return;s.current(v.current);let c=T(v.current,e||"",n||r||"text",o||""),d=T(v.current,t||"",i||r||"text",l||"");(R=w.current)==null||R.setModel({original:c,modified:d})},[r,t,i,e,n,o,l]),K=a.useCallback(()=>{var c;!I.current&&F.current&&(w.current=v.current.editor.createDiffEditor(F.current,{automaticLayout:!0,...E}),J(),(c=v.current)==null||c.editor.setTheme(m),z(!0),I.current=!0)},[E,m,J]);a.useEffect(()=>{j&&M.current(w.current,v.current)},[j]),a.useEffect(()=>{!N&&!j&&K()},[N,j,K]);function k(){var d,R,D,H;let c=(d=w.current)==null?void 0:d.getModel();p||((R=c==null?void 0:c.original)==null||R.dispose()),f||((D=c==null?void 0:c.modified)==null||D.dispose()),(H=w.current)==null||H.dispose()}return O.createElement(be,{width:A,height:V,isEditorReady:j,loading:S,_ref:F,className:h,wrapperProps:C})}var Nt=Lt;a.memo(Nt);function It(){let[e,t]=a.useState(Z.__getMonacoInstance());return ae(()=>{let r;return e||(r=Z.init(),r.then(n=>{t(n)})),()=>r==null?void 0:r.cancel()}),e}var Dt=It;function $t(e){let t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}var Tt=$t,Y=new Map;function Vt({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:l="light",line:p,loading:f="Loading...",options:m={},overrideServices:S={},saveViewState:E=!0,keepCurrentModel:V=!1,width:A="100%",height:h="100%",className:C,wrapperProps:te={},beforeMount:re=X,onMount:j=X,onChange:z,onValidate:N=X}){let[b,w]=a.useState(!1),[v,F]=a.useState(!0),M=a.useRef(null),s=a.useRef(null),I=a.useRef(null),J=a.useRef(j),K=a.useRef(re),k=a.useRef(),c=a.useRef(n),d=Tt(o),R=a.useRef(!1),D=a.useRef(!1);ae(()=>{let u=Z.init();return u.then(g=>(M.current=g)&&F(!1)).catch(g=>(g==null?void 0:g.type)!=="cancelation"&&console.error("Monaco initialization: error:",g)),()=>s.current?Me():u.cancel()}),x(()=>{var g,P,U,$;let u=T(M.current,e||n||"",t||i||"",o||r||"");u!==((g=s.current)==null?void 0:g.getModel())&&(E&&Y.set(d,(P=s.current)==null?void 0:P.saveViewState()),(U=s.current)==null||U.setModel(u),E&&(($=s.current)==null||$.restoreViewState(Y.get(o))))},[o],b),x(()=>{var u;(u=s.current)==null||u.updateOptions(m)},[m],b),x(()=>{!s.current||n===void 0||(s.current.getOption(M.current.editor.EditorOption.readOnly)?s.current.setValue(n):n!==s.current.getValue()&&(D.current=!0,s.current.executeEdits("",[{range:s.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),s.current.pushUndoStop(),D.current=!1))},[n],b),x(()=>{var g,P;let u=(g=s.current)==null?void 0:g.getModel();u&&i&&((P=M.current)==null||P.editor.setModelLanguage(u,i))},[i],b),x(()=>{var u;p!==void 0&&((u=s.current)==null||u.revealLine(p))},[p],b),x(()=>{var u;(u=M.current)==null||u.editor.setTheme(l)},[l],b);let H=a.useCallback(()=>{var u;if(!(!I.current||!M.current)&&!R.current){K.current(M.current);let g=o||r,P=T(M.current,n||e||"",t||i||"",g||"");s.current=(u=M.current)==null?void 0:u.editor.create(I.current,{model:P,automaticLayout:!0,...m},S),E&&s.current.restoreViewState(Y.get(g)),M.current.editor.setTheme(l),p!==void 0&&s.current.revealLine(p),w(!0),R.current=!0}},[e,t,r,n,i,o,m,S,E,l,p]);a.useEffect(()=>{b&&J.current(s.current,M.current)},[b]),a.useEffect(()=>{!v&&!b&&H()},[v,b,H]),c.current=n,a.useEffect(()=>{var u,g;b&&z&&((u=k.current)==null||u.dispose(),k.current=(g=s.current)==null?void 0:g.onDidChangeModelContent(P=>{D.current||z(s.current.getValue(),P)}))},[b,z]),a.useEffect(()=>{if(b){let u=M.current.editor.onDidChangeMarkers(g=>{var U;let P=(U=s.current.getModel())==null?void 0:U.uri;if(P&&g.find($=>$.path===P.path)){let $=M.current.editor.getModelMarkers({resource:P});N==null||N($)}});return()=>{u==null||u.dispose()}}return()=>{}},[b,N]);function Me(){var u,g;(u=k.current)==null||u.dispose(),V?E&&Y.set(o,s.current.saveViewState()):(g=s.current.getModel())==null||g.dispose(),s.current.dispose()}return O.createElement(be,{width:A,height:h,isEditorReady:b,loading:f,_ref:I,className:C,wrapperProps:te})}var At=Vt,zt=a.memo(At),Ft=zt;function kt(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const Ht=a.forwardRef(kt),ge=Ht,we=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),Ut=e=>{if(!e)return"";const t=we(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null};function qt({error:e}){const t=Ut(e);return y(Oe,{className:"relative",children:()=>W(je,{children:[W(Se,{className:`p-2 shaodw-lg border ${e?"":" opacity-0 hidden "}`,children:[y("span",{className:"sr-only",children:"Errors"}),y(ge,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})]}),y(Ee,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:y(Pe,{className:"absolute top-8 w-[300px] -right-3 z-10 mt-3 px-4 sm:px-0",children:y("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:y("div",{className:"rounded bg-red-50 p-4 overflow-scroll",children:W("div",{className:"flex",children:[y("div",{className:"flex-shrink-0",children:y(ge,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),y("div",{className:"ml-3",children:y("h3",{className:"text-sm font-medium text-red-800 whitespace-pre-wrap",children:t})})]})})})})})]})})}function Wt(e,t){const[r,n]=a.useState(e);return a.useEffect(()=>{const i=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(i)}},[e,t]),r}const Xt=()=>("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),Bt=e=>{const t=Dt(),r=O.useRef(null),[n,i]=O.useState(100),o=O.useMemo(()=>Xt(),[]),l=e.field,p=O.useMemo(()=>{const h=xe(e.input.value,l,C=>C);return typeof e.input.value=="string"?e.input.value:h},[]),[f,m]=O.useState(p),[S,E]=O.useState(null),V=Wt(f,500);O.useEffect(()=>{const h=Ce(f,l,C=>C);if(h.children[0]&&h.children[0].type==="invalid_markdown"){const C=h.children[0];E(C)}else E(null);e.input.onChange(h)},[JSON.stringify(V)]),O.useEffect(()=>{if(r.current)if(S){const h=we(S);t.editor.setModelMarkers(r.current.getModel(),o,[{...h.position,message:h.message,severity:8}])}else t.editor.setModelMarkers(r.current.getModel(),o,[])},[JSON.stringify(S),r.current]),O.useEffect(()=>{t&&(t.languages.typescript.typescriptDefaults.setEagerModelSync(!0),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[t]);function A(h,C){h&&(r.current=h,h.onDidContentSizeChange(()=>{i(Math.min(Math.max(100,h.getContentHeight()),1e3)),h.layout()}))}return W("div",{className:"relative",children:[W("div",{className:"sticky top-1 w-full flex justify-between mb-2 z-50 max-w-full bg-white",children:[y(_t,{onClick:()=>e.setRawMode(!1),children:"View in rich-text editor ðŸ“"}),y(qt,{error:S})]}),y("div",{style:{height:`${n}px`},children:y(Ft,{beforeMount:()=>{},height:"100%",width:"100%",path:o,onMount:A,options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"on",lineNumbersMinChars:2,formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:4,alwaysConsumeMouseWheel:!1}},language:"markdown",value:f,onChange:h=>{try{m(h)}catch(C){console.log("error",C)}}})})]})},_t=e=>y("button",{className:`${e.align==="left"?"rounded-l border-r-0":"rounded-r border-l-0"} flex justify-center w-full shadow rounded bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-blue-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,type:"button",onClick:e.onClick,children:y("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1",children:e.children})}),Kt=Bt;export{Kt as default};
